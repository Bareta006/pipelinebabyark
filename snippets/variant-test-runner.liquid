<!-- Anti-flicker styles -->
<style>
  [data-gb-gate] {
    visibility: hidden;
    transition: visibility 0.2s ease-in-out;
  }
  .gb-ready [data-gb-gate], .gb-timeout [data-gb-gate] {
    visibility: visible;
  }
</style>

<!-- Variant A/B Testing - Script Tag Mode -->
<script 
  src="https://growthbook-scripts.vercel.app/growthbook-bundle.js"
  data-gb-sdk-key="{{ shop.metafields.growthbook.sdk_key }}"
  data-gb-shop="{{ shop.domain }}"
  {% if customer %}data-gb-customer-id="{{ customer.id }}"{% endif %}
  {% if template %}data-gb-page-type="{{ request.page_type }}"{% endif %}
  async
></script>