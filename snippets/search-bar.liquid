<!-- /snippets/search-bar.liquid -->

<main-search>
  <form action="{{ routes.search_url }}" method="get" class="search-bar search-bar--styled" role="search" id="main-search-form">
    <!-- Hidden inputs for blog search parameters - added by JavaScript -->
    <div id="blog-search-params"></div>
    
    <input class="search-bar__input"
           type="search"
           name="q"
           value="{{ search.terms | escape }}"
           placeholder="Search"
           aria-label="Search"
           autocomplete="off">
    
    {% if search.terms != blank %}
      <button type="reset" class="search-bar__reset" aria-label="{{ 'general.search.reset' | t }}">
        {% render 'icon-core-x' %}
      </button>
    {% endif %}
    
    <button type="submit" class="search-bar__button">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 15L21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </form>
</main-search>
