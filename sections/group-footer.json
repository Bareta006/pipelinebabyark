/*
 * ------------------------------------------------------------
 * IMPORTANT: The contents of this file are auto-generated.
 *
 * This file may be updated by the Shopify admin theme editor
 * or related systems. Please exercise caution as any changes
 * made to this file may be overwritten.
 * ------------------------------------------------------------
 */
{
  "type": "footer",
  "name": "Footer",
  "sections": {
    "section_liquid_nDdLqE": {
      "type": "section-liquid",
      "settings": {
        "custom_liquid": "<style>\n.product__block__icon > .icon-holder >div > img{\nheight:30px;\nobject-fit:contain;}\n.product__block__icon > .icon-holder >div{\nwidth:34px;}  \n</style>"
      }
    },
    "section_liquid_NTjR4q": {
      "type": "section-liquid",
      "settings": {
        "custom_liquid": "<script>\n// Extract URL parameters and save them in a constant variable\nconst urlParams = new URLSearchParams(window.location.search);\nconst parameters = {};\n\n// List of parameters to look for in the URL\nconst PARAMS_TO_CHECK = ['RR_WCID', 'RR_WCID_TTL', 'REFERRALCODE'];\n\nPARAMS_TO_CHECK.forEach(param => {\n    if (urlParams.has(param)) {\n        // Save the parameter and its value if it exists in the URL\n        parameters[param] = urlParams.get(param);\n    }\n});\n\n// Function to check if the required parameters are present in the URL\nfunction hasRequiredParameters() {\n    return PARAMS_TO_CHECK.some(param => urlParams.has(param));\n}\n\n// Function to add referral message to each product card\nfunction addReferralMessageToProducts() {\n    // Add message to product page\n    const productPage = document.querySelector('.product-page.main-product');\n    if (productPage) {\n        const productTitle = productPage.querySelector('h1.product-title');\n        if (productTitle) {\n            const refMessageDiv = document.createElement('div');\n            refMessageDiv.innerHTML = `\n                    <div class=\"refmsgdiv\">\n                        <p style=\"color:#333333;\">You've been referred by a friend.<br/><b>Your $100 discount</b> will be applied at checkout.</p>\n                    </div>\n            `;\n            productTitle.insertAdjacentElement('afterend', refMessageDiv);\n        } else {\n            console.error(\"Product title not found on the product page.\");\n        }\n    }\n}\n\n// Function to add URL parameters to product links\nfunction addParametersToProductLinks() {\n    // Find all <a> tags with href containing \"products\"\n    const productLinks = document.querySelectorAll('a[href*=\"products\"]');\n    \n    //console.log(\"Found product links:\", productLinks.length);\n    \n    // Iterate through each link and add the parameters\n    productLinks.forEach(link => {\n        try {\n            const currentHref = link.getAttribute('href');\n            \n            // Check if the href is a valid URL or a relative path\n            let fullUrl;\n            if (currentHref.startsWith('http')) {\n                fullUrl = new URL(currentHref);\n            } else {\n                fullUrl = new URL(currentHref, window.location.origin);\n            }\n            \n            // Add each parameter to the link URL\n            Object.keys(parameters).forEach(param => {\n                fullUrl.searchParams.set(param, parameters[param]);\n            });\n            \n            // Update the href attribute with the new URL\n            link.setAttribute('href', fullUrl.toString());\n            //console.log(\"Updated link:\", fullUrl.toString());\n        } catch (error) {\n            console.error(\"Error updating link:\", link, error);\n        }\n    });\n}\n\n// Function to initialize referral-related scripts\nfunction initializeReferral() {\n    if (hasRequiredParameters()) {\n        //console.log(\"Required parameters found, initializing referral features\");\n        setTimeout(addReferralMessageToProducts, 750); // Add referral messages\n        setTimeout(addParametersToProductLinks, 1000); // Add parameters to product links\n        \n        // Also add a mutation observer to handle dynamically loaded content\n        const observer = new MutationObserver(function(mutations) {\n            addParametersToProductLinks();\n        });\n        \n        observer.observe(document.body, { \n            childList: true, \n            subtree: true \n        });\n    } else {\n        //console.log(\"No required parameters found in URL\");\n    }\n}\n\n// Execute the initialization function on DOM ready\ndocument.addEventListener('DOMContentLoaded', initializeReferral);\n\n// Also run once when the page is fully loaded\nwindow.addEventListener('load', function() {\n    if (hasRequiredParameters()) {\n        addParametersToProductLinks();\n    }\n});\n</script>"
      }
    },
    "footer": {
      "type": "footer",
      "blocks": {
        "linklist-1": {
          "type": "linklist",
          "settings": {
            "linklist": "footer-third",
            "title": "",
            "accordion_default": "accordion-is-open"
          }
        },
        "linklist-2": {
          "type": "linklist",
          "settings": {
            "linklist": "footer-first",
            "title": "",
            "accordion_default": ""
          }
        },
        "text-3": {
          "type": "text",
          "settings": {
            "title": "",
            "text": "",
            "text_size": 4,
            "accordion_default": ""
          }
        },
        "social": {
          "type": "social",
          "settings": {
            "title": "Safe. Smart. Beautiful.",
            "text_size": 7,
            "enable_follow_on_shop": false
          }
        },
        "newsletter": {
          "type": "newsletter",
          "settings": {
            "show_image": true,
            "image": "shopify://shop_images/shiro101_A_floating_baby_car_seat_product_photography_natural_30502f77-8fa1-4944-b7f4-57072e174134_3_1.png",
            "wh_ratio": 2,
            "newsletter_enable": true,
            "recaptcha_enabled": false,
            "kicker": "Our newsletter",
            "heading": "Join our family",
            "richtext": "<p>Receive the latest articles, tips, and offers from babyark.</p>",
            "text_size": 4,
            "background_color": "#1d2124",
            "text_color_value": "#ffffff"
          }
        }
      },
      "block_order": [
        "linklist-1",
        "linklist-2",
        "text-3",
        "social",
        "newsletter"
      ],
      "custom_css": [
        ".footer__title {display: none;}"
      ],
      "settings": {
        "menu_position": "left",
        "footer_image": "shopify://shop_images/Vector_3.png",
        "logo_max_limit": 320,
        "width": "wrapper--full",
        "padding_top": 50,
        "padding_bottom": 50
      }
    },
    "subfooter": {
      "type": "subfooter",
      "settings": {
        "footer_secondary_linklist": "footer",
        "footer_payment_enable": false,
        "footer_social_enable": false,
        "show_locale_selector": true,
        "show_currency_selector": true,
        "width": "wrapper--full",
        "padding_top": 18,
        "padding_bottom": 18
      }
    }
  },
  "order": [
    "section_liquid_nDdLqE",
    "section_liquid_NTjR4q",
    "footer",
    "subfooter"
  ]
}
